function doSendForgot(){$(".u-loading-screen").css("display","block"),$.ajax({url:"forgot_password",type:"POST",data:{data:$("#UserName").val()},success:function(e){if($(".u-loading-screen").css("display","none"),isJson(e)){$("#div_reset_password").empty();let s="";s+="<div class='text-left'>",s+="\t\t<h1 class='h4 text-gray-900 mb-5 font-weight-bold'>Check your email</h1>",s+="</div>",s+="<div class='form-group'>",s+="\t\t<label style='font-size: 16px; justify-content: flex-start;'>",s+="\t\t\tWe've sent an email "+JSON.parse(e).userEmail+". Clik the link in the email to reset your password.",s+="\t\t</label>",s+="\t\t<br>",s+="\t\t<br>",s+="\t\t<label style='font-size: 16px; justify-content: flex-start;'>",s+="\t\t\tif you don't see the email, check other placeit might be, like your junk, spam, social, or other folders.",s+="\t\t</label>",s+="</div>",s+="<input type='submit' class='btn btn-primary-vms col-sm-2' value='Ok' onclick='gotoIndex()'>",s+="<hr>",$("#div_reset_password").append(s)}else""==e?gotoIndex():$("#error_message").html(e)},error:function(e,s,r,a){$(".u-loading-screen").css("display","none");var t=errorMessage(e,a);alertDialog("System Message",t,"error")}}),doCloseModalAlert("error")}function doNewPassword(){0!=doNewValidation()&&doNewProcess()}function doNewValidation(){return 0==$("#newUserPWD").val().length?($("#newUserPWD").addClass("is-invalid"),$("#newUserPWDError").html("New Password is Empty."),!1):$("#newUserPWD").val().length<8?($("#newUserPWD").addClass("is-invalid"),$("#newUserPWDError").html("Minimum 8 Character."),!1):$("#newUserPWD").val().length>=21?($("#newUserPWD").addClass("is-invalid"),$("#newUserPWDError").html("Maximum length 20 Character."),!1):($("#newUserPWD").removeClass("is-invalid"),$("#newUserPWD").addClass("is-valid"),0==$("#confUserPWD").val().length?($("#confUserPWD").addClass("is-invalid"),$("#confUserPWDError").html("Confirmation Password is Empty."),!1):$("#confUserPWD").val().length<8?($("#confUserPWD").addClass("is-invalid"),$("#confUserPWDError").html("Minimum 8 Character."),!1):$("#confUserPWD").val().length>=21?($("#confUserPWD").addClass("is-invalid"),$("#confUserPWDError").html("Maximum length 20 Character."),!1):($("#confUserPWD").removeClass("is-invalid"),$("#confUserPWD").addClass("is-valid"),$("#confUserPWD").val()==$("#newUserPWD").val()||($("#confUserPWD").addClass("is-invalid"),$("#confUserPWDError").html("Confirmation Password did not match."),!1)))}function doNewProcess(){$(".u-loading-screen").css("display","block");let e={newUserPWD:$("#newUserPWD").val(),confUserPWD:$("#confUserPWD").val(),iVal:$("#iVal").val()};$.ajax({url:"new_password",type:"POST",data:{data:JSON.stringify(e)},success:function(e){if($(".u-loading-screen").css("display","none"),"1"==e){$("#div_new_password").empty();let e="";e+="<div class='text-left'>",e+="<h1 class='h4 text-gray-900 mb-5 font-weight-bold'>Password has been reset.</h1>",e+="</div>",e+="<button class='btn btn-primary-vms btn-user col-sm-2' onclick='gotoIndex()'>Login</button>",$("#div_new_password").append(e)}else""==response?gotoIndex():alertDialog("System Message",response,"new");doCloseModalAlert("new")},error:function(e,s,r,a){$(".u-loading-screen").css("display","none");var t=errorMessage(e,a);alertDialog("System Message",t,"error")}}),doCloseModalAlert("error")}